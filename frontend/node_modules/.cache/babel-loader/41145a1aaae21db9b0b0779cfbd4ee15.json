{"ast":null,"code":"var _jsxFileName = \"/Users/kyeong/dev/js/kdt-react-order-ui/src/pages/order.js\",\n    _s = $RefreshSig$();\n\n// import './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { ProductList } from \"../components/ProductList\";\nimport { Summary } from \"../components/Summary\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Order() {\n  _s();\n\n  const [products, setProducts] = useState([{\n    productId: 'uuid-1',\n    productName: '콜롬비아 커피 1',\n    category: '커피빈',\n    price: 5000\n  }, {\n    productId: 'uuid-2',\n    productName: '콜롬비아 커피 2',\n    category: '커피빈',\n    price: 5000\n  }, {\n    productId: 'uuid-3',\n    productName: '콜롬비아 커피 3',\n    category: '커피빈',\n    price: 5000\n  }]);\n  const [items, setItems] = useState([]);\n\n  const handleAddClicked = productId => {\n    const product = products.find(v => v.productId === productId);\n    const found = items.find(v => v.productId === productId);\n    const updatedItems = found ? items.map(v => v.productId === productId ? { ...v,\n      count: v.count + 1\n    } : v) : [...items, { ...product,\n      count: 1\n    }];\n    setItems(updatedItems);\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:8080/api/v1/products').then(v => setProducts(v.data));\n  }, []);\n\n  const handleOrderSubmit = order => {\n    if (items.length === 0) {\n      alert(\"아이템을 추가해 주세요!\");\n    } else {\n      axios.post('http://localhost:8080/api/v1/orders', {\n        email: order.email,\n        address: order.address,\n        postcode: order.postcode,\n        orderItems: items.map(v => ({\n          productId: v.productId,\n          category: v.category,\n          price: v.price,\n          quantity: v.count\n        }))\n      }).then(v => alert(\"주문이 정상적으로 접수되었습니다.\"), e => {\n        alert(\"서버 장애\");\n        console.error(e);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"(\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 mt-4 d-flex flex-column align-items-start p-3 pt-0\",\n          children: /*#__PURE__*/_jsxDEV(ProductList, {\n            products: products,\n            onAddClick: handleAddClicked\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 summary p-4\",\n          children: /*#__PURE__*/_jsxDEV(Summary, {\n            items: items,\n            onOrderSubmit: handleOrderSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this), \")\"]\n  }, void 0, true);\n}\n\n_s(Order, \"9OM/YN8U0/Te6UjmBKfS6IkDbKE=\");\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["ProductList","Summary","axios","React","useEffect","useState","Order","products","setProducts","productId","productName","category","price","items","setItems","handleAddClicked","product","find","v","found","updatedItems","map","count","get","then","data","handleOrderSubmit","order","length","alert","post","email","address","postcode","orderItems","quantity","e","console","error"],"sources":["/Users/kyeong/dev/js/kdt-react-order-ui/src/pages/order.js"],"sourcesContent":["// import './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {ProductList} from \"../components/ProductList\";\nimport {Summary} from \"../components/Summary\";\nimport axios from \"axios\";\nimport React, {useEffect, useState} from 'react';\n\n\nexport function Order() {\n    const [products, setProducts] = useState([\n        {productId: 'uuid-1', productName: '콜롬비아 커피 1', category: '커피빈', price: 5000},\n        {productId: 'uuid-2', productName: '콜롬비아 커피 2', category: '커피빈', price: 5000},\n        {productId: 'uuid-3', productName: '콜롬비아 커피 3', category: '커피빈', price: 5000},\n\n    ]);\n    const [items, setItems] = useState([]);\n    const handleAddClicked = productId => {\n        const product = products.find(v => v.productId === productId);\n        const found = items.find(v => v.productId === productId);\n        const updatedItems =\n            found ? items.map(v => (v.productId === productId) ? {...v, count: v.count + 1} : v) : [...items, {\n                ...product,\n                count: 1\n            }]\n        setItems(updatedItems);\n    }\n\n    useEffect(() => {\n        axios.get('http://localhost:8080/api/v1/products')\n            .then(v => setProducts(v.data));\n    }, []);\n\n\n\n    const handleOrderSubmit = (order) => {\n        if (items.length === 0) {\n            alert(\"아이템을 추가해 주세요!\");\n        } else {\n            axios.post('http://localhost:8080/api/v1/orders', {\n                email: order.email,\n                address: order.address,\n                postcode: order.postcode,\n                orderItems: items.map(v => ({\n                    productId: v.productId,\n                    category: v.category,\n                    price: v.price,\n                    quantity: v.count\n                }))\n            }).then(\n                v => alert(\"주문이 정상적으로 접수되었습니다.\"),\n                e => {\n                    alert(\"서버 장애\");\n                    console.error(e);\n                })\n        }\n    }\n    return <>(\n\n\n\n            {/*<div className=\"row justify-content-center m-4\">*/}\n            {/*    <h1 className=\"text-center\" style=\"color : beige\">주문서</h1>*/}\n            {/*</div>*/}\n            {/*<div className=\"card\" style=\"margin-bottom: 50px\">*/}\n            {/*    <div clasNames=\"row\">*/}\n            {/*        <div className=\"col-md-8 mt-4 d-flex flex-column align-items-start p-3 pt-0\">*/}\n            {/*            <h5 className=\"flex-grow-0\"><b>상품 목록</b></h5>*/}\n            {/*            <div className=\"row\">*/}\n            {/*                <div className=\"col\">*/}\n            {/*                    <a className=\"col btn btn-sm btn-outline-dark\" style=\"font-size: 13px\" text=\"전체\" ></a>*/}\n            {/*                </div>*/}\n            {/*                <div className=\"col\">*/}\n            {/*                    <a className=\"col btn btn-sm btn-outline-dark\" style=\"font-size: 13px\" ></a>*/}\n            {/*                </div>*/}\n            {/*            </div>*/}\n            {/*            <ul className=\"list-group products\">*/}\n            {/*                <li className=\"list-group-item d-flex mt-3\">*/}\n            {/*                    <div className=\"col-1\"><img className=\"img-fluid\" src= {productImg} alt=\"\"/>*/}\n            {/*                    <div className=\"col\">*/}\n            {/*                        <div className=\"row text-muted\" style=\"font-size: 10px\">카테고리</div>*/}\n            {/*                        <div className=\"row\" ></div>*/}\n            {/*                    </div>*/}\n            {/*                    <div className=\"col\">*/}\n            {/*                        <div className=\"row text-muted\" style=\"font-size: 10px\">제품명</div>*/}\n            {/*                        <div className=\"row\" ></div>*/}\n            {/*                    </div>*/}\n            {/*                    <div class=\"col\">*/}\n            {/*                        <div className=\"row text-muted\" style=\"font-size: 10px\">가격</div>*/}\n            {/*                        <div className=\"row\" ></div>*/}\n            {/*                    </div>*/}\n            {/*                    <div className=\"col-1\">*/}\n            {/*                        <a className=\"btn btn-sm btn-outline-dark\" style=\"font-size: 13px\" >추가</a>*/}\n            {/*                    </div>*/}\n            {/*                    <div className=\"col-1\"/>*/}\n            {/*                        <a className=\"btn btn-sm btn-outline-danger\" style=\"font-size: 13px\" >제거</a>*/}\n            {/*                    </div>*/}\n            {/*                </li>*/}\n            {/*            </ul>*/}\n            {/*        </div>*/}\n            {/*        <div class=\"col-md-4 summary p-4\">*/}\n            {/*            <div>*/}\n            {/*                <h5 className=\"m-0 p-0\"><b>Summary</b></h5>*/}\n            {/*            </div>*/}\n            {/*            <hr/>*/}\n            {/*                <div className=\"row\">*/}\n            {/*                    <h6 className=\"p-0\">Columbia Nariñó <span class=\"badge bg-dark text-\">2개</span></h6>*/}\n            {/*                </div>*/}\n            {/*                <div className=\"row\">*/}\n            {/*                    <h6 className=\"p-0\">Brazil Serra Do Caparaó <span class=\"badge bg-dark\">2개</span></h6>*/}\n            {/*                </div>*/}\n            {/*                <div className=\"row\">*/}\n            {/*                    <h6 className=\"p-0\">Columbia Nariñó <span class=\"badge bg-dark\">2개</span></h6>*/}\n            {/*                </div>*/}\n\n            {/*                <form>*/}\n            {/*                    <div className=\"mb-3\">*/}\n            {/*                        <label for=\"email\" class=\"form-label\">이메일</label>*/}\n            {/*                        <input type=\"email\" class=\"form-control mb-1\" id=\"email\"/>*/}\n            {/*                    </div>*/}\n            {/*                    <div className=\"mb-3\">*/}\n            {/*                        <label for=\"address\" class=\"form-label\">주소</label>*/}\n            {/*                        <input type=\"text\" class=\"form-control mb-1\" id=\"address\"/>*/}\n            {/*                    </div>*/}\n            {/*                    <div className=\"mb-3\">*/}\n            {/*                        <label for=\"postcode\" class=\"form-label\">우편번호</label>*/}\n            {/*                        <input type=\"text\" class=\"form-control\" id=\"postcode\"/>*/}\n            {/*                    </div>*/}\n            {/*                    <div>당일 오후 2시 이후의 주문은 다음날 배송을 시작합니다.</div>*/}\n            {/*                </form>*/}\n            {/*                <div className=\"row pt-2 pb-2 border-top\">*/}\n            {/*                    <h5 className=\"col\">총금액</h5>*/}\n            {/*                    <h5 className=\"col text-end\">15000원</h5>*/}\n            {/*                </div>*/}\n            {/*                <button className=\"btn btn-dark col-12\">결제하기</button>*/}\n            {/*        </div>*/}\n            {/*    </div>*/}\n            {/*</div>*/}\n        {/*<Link to =\"/order\">*/}\n\n        <div className=\"card\">\n            <div className=\"row\">\n                <div className=\"col-md-8 mt-4 d-flex flex-column align-items-start p-3 pt-0\">\n                    <ProductList products={products} onAddClick={handleAddClicked}/>\n                </div>\n                <div className=\"col-md-4 summary p-4\">\n                    <Summary items={items} onOrderSubmit={handleOrderSubmit}/>\n                </div>\n            </div>\n        </div>\n        {/*</Link>*/}\n        )\n        </>\n}\n\nexport default Order;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}